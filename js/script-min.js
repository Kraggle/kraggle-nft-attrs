const t=jQuery;t((()=>{const a={};t.each(kna.attrs,((i,s)=>{s.attr=i,t(`.kna-detail.${i}`).data("attr",s),setTimeout((()=>{a[i]=setInterval(n,e(1e4,2e4),s)}),e(1e4))})),t(".kna-btn.pause").on("click",(function(){const n=t(".hidden",this);n.siblings("svg").addClass("hidden"),n.removeClass("hidden")})),t(".kna-container").closest(".et_pb_section").css("overflow","hidden"),t(".kna-skip").on("click",(function(){n(t(this).closest(".kna-detail").data("attr"),!0,t(this).hasClass("next"))}))}));const n=(n,a,i)=>{const s=n.attr;if(!a&&t(`.kna-btn.${s} .svg-pause.hidden`).length)return;const r=t(`.kna-detail.${s}`),o=parseInt(t(".kna-count num",r).html())-1,l=n.items.length-1;let c=o;if(a)i?(c++,c=c>l?0:c):(c--,c=c<0?l:c);else do{c=e(0,n.items.length-1)}while(c==o);const h=n.items[c],u=t(`.kna-img.${s}`);u.animate({opacity:0,left:"-=500"},300,(()=>{u.attr("src",h.url),u.css({left:"initial",right:"-500px"}),u.animate({opacity:1,right:0,left:0}),t(".kna-count num",r).startSpinwriter({text:c+1}),t(".kna-attr.trait .kna-val",r).startSpinwriter({text:h.trait}),t(".kna-attr.occur .kna-val",r).startSpinwriter({text:h.occurrence}),t(".kna-attr.rarity .kna-val",r).startSpinwriter({text:h.rarity+"%"})}))},e=(t=0,n=100)=>Math.floor(Math.random()*(n-t))+t;t.fn.startSpinwriter=function(t,n){t.css&&this.css(t.css);let e=t.text+"";e=e.split("");const i=t.interval?t.interval:10,s=t.mode?t.mode:0;return a(this,e,i,s,n),this};const a=function(t,n,e,a,s){return 0==a?i(t,n,1,e,s):1==a?function(t,n,e,a){var i=function(t){for(var n=/[a-zA-Z]/,e=/[0-9]/,a=Array(t.length),i=0;i<t.length;i++)n.test(t[i])||e.test(t[i])?isNaN(t[i])?a[i]=t[i]==t[i].toUpperCase()?"A":"a":a[i]=0:a[i]=t[i];return a}(n);r(t,n,i,e,a)}(t,n,e,s):void 0},i=function(t,n,e,a,i){e<n.length+1?s(t,n.slice(0,e).join(""),0,n,e,a,i):i&&i()},s=function(t,n,e,a,r,o,l){if(n.length>0){var c=" abcdefghijklmnopqrstuvwxyz".split(""),h="0123456789".split(""),u=n.substr(0,n.length-1),f=n[n.length-1];/[a-zA-Z]/.test(f)&&c[e].toLowerCase()!=f.toLowerCase()||/[0-9]/.test(f)&&h[e]!==f?(isNaN(parseInt(f))?t.html(u+c[e]):t.html(u+h[e]),setTimeout((function(){s(t,n,e+=1,a,r,o,l)}),o)):(t.html(n),i(t,a,r+=1,o,l))}};function r(t,n,e,a,i){t.html(e.join("")),n.join("")!==e.join("")?setTimeout((function(){e=function(t,n){for(var e=" abcdefghijklmnopqrstuvwxyz".split(""),a="0123456789".split(""),i=/[a-zA-Z]/,s=0;s<n.length;s++)n[s]!=t[s]&&(i.test(n[s])?t[s]==t[s].toUpperCase()?n[s]=e[e.indexOf(n[s].toLowerCase())+1].toUpperCase():n[s]=e[e.indexOf(n[s])+1]:n[s]=a[a.indexOf(n[s])+1]);return n}(n,e),r(t,n,e,a,i)}),a):i&&i()}